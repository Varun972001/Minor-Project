import re

def extract_features(url):
    data={}
    
    # Extract query length
    data["Querylength"] = len(url.split('?')[-1])

    # Extract domain token count
    domain_tokens = url.split('.')
    p= len(domain_tokens)
    data["domain_token_count"] = p

    # Extract path token count
    path_tokens = url.split('/')[:-1]
    p1 = len(path_tokens)
    data["path_token_count"]=p1

    # Extract average domain token length
    data["avgdomaintokenlen"] = sum(len(token) for token in domain_tokens) / p

    # Extract long domain token length
    data["longdomaintokenlen"] = max(len(token) for token in domain_tokens)

    # Extract average path token length
    data["avgpathtokenlen"] = sum(len(token) for token in path_tokens) / p1

    # Extract vowel count
    p2 = sum(token in 'aeiouAEIOU' for token in url)
    data["charcompvowels"] = p2

    # Extract consonant count
    data["charcompace"] = len(url) - p2

    # Extract URL length
    data["urlLen"] = len(url)

    # Extract domain length
    data["domainlength"] = len(url.split('.')[0])

    # Extract path length
    data["pathLength"] = len(url.split('/')[:-1])

    # Extract subdirectory length
    data["subDirLen"] = len(url.split('/')[:-2])

    # Extract filename length
    data["fileNameLen"] = len(url.split('/')[-1].split('.')[0])

    # Extract file extension length
    data["this.fileExtLen"] = len(url.split('/')[-1].split('.')[-1])

    # Extract argument length
    data["ArgLen"] = len(url.split('?')[-1].split('&'))

    return data

